
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>VVBorderTimer - OneV's Den</title>
  <meta name="author" content="onevcat">

  
  <meta name="description" content="GitHub 链接: https://github.com/onevcat/VVBorderTimerView
是什么 VVBorderTimer是UIView的子类 它为UIView提供使用边界进行倒计时的效果 边框角落的半径和线宽在运行时可调 倒计时是有颜色渐变效果GitHub link: &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.onevcat.com/blog/2011/12/24/vvbordertimer">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="OneV's Den" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">OneV's Den</a></h1>
  
    <h2>thinking and recording</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.onevcat.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">VVBorderTimer</h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-12-24T00:00:00+09:00" pubdate data-updated="true">Dec 24<span>th</span>, 2011</time>
        
      </p>
    
  </header>


<div class="entry-content"><p><!--:zh--><h2 style="text-align: justify;">GitHub 链接: <a href="https://github.com/onevcat/VVBorderTimer">https://github.com/onevcat/VVBorderTimerView</a></h2>
<h2 style="text-align: justify;">是什么</h2>
<ul style="text-align: justify;">
	<li><strong>VVBorderTimer</strong>是UIView的子类</li>
	<li>它为UIView提供使用边界进行倒计时的效果</li>
	<li>边框角落的半径和线宽在运行时可调</li>
	<li>倒计时是有颜色渐变效果<!--:--><!--:en--><h2 style="text-align: justify;">GitHub link: <a href="https://github.com/onevcat/VVBorderTimer">https://github.com/onevcat/VVBorderTimerView</a></h2>
<h2 style="text-align: justify;">What&#8217;s this</h2>
<ul style="text-align: justify;">
	<li><strong>VVBorderTimer</strong> is a subclass of UIView.</li>
	<li>It provides an counting down effect using the view&#8217;s border.</li>
	<li>The radius of round corners and line width are configurable in runtime.</li>
	<li>There is also a color transition effect during the counting.<!--:--><!--more--><!--:zh--></li>
</ul>
<h2 style="text-align: justify;">怎么用</h2>
<ol style="text-align: justify;">
	<li>将VVBorderTimerView.h和VVBorderTimerView.m导入您的工程。请根据您的情况选择使用ARC版本或非ARC版本</li>
	<li>分配并初始化一个VVBorderTimerView. 设置其背景颜色<br />
[crayon]<br />
VVBorderTimerView *btv = [[VVBorderTimerView alloc] initWithFrame:CGRectMake(20, 20, 280, 280)];<br />
//为计时器设置背景颜色<br />
btv.backgroundColor = [UIColor clearColor];[/crayon]</li>
	<li>配置计时器属性，如: 颜色(可选), 总时间和delegate.<br />
[crayon]<br />
//上边界为绿色<br />
UIColor *color0 = [UIColor greenColor];<br />
//右边黄色<br />
UIColor *color1 = [UIColor yellowColor];<br />
//下边橙色<br />
UIColor *color2 = [UIColor colorWithRed:1.0 green:140.0/255.0 blue:16.0/255.0 alpha:1.0];<br />
//左边红色<br />
UIColor *color3 = [UIColor redColor];</li></ol></li></ul></p>

<p>//为计时器指定颜色. 不同颜色将在转角处发生渐变.<br />
//如果您<strong>没有</strong>指定颜色，或者指定其为nil(btv.colors = nil)，所有边将默认使用黑色<br />
btv.colors = [NSArray arrayWithObjects:color0,color1,color2,color3,nil];</p>

<p>//为计时器设定总时间<br />
btv.totalTime = 10;</p>

<p>//为计时器设定delegate<br />
btv.delegate = self;<br />
[/crayon]
	<li>实现计时器的delegate<br />
[crayon]<br />
//转角半径(0 代表矩形)<br />
-(float) cornerRadius:(VVBorderTimerView *)requestor<br />
{
return 30;<br />
}</li></p>

<p>//计时器线宽<br />
-(float) lineWidth:(VVBorderTimerView *)requestor<br />
{
return 10;<br />
}</p>

<p>//当计时器停止时，该方法被调用<br />
-(void) timerViewDidFinishedTiming:(VVBorderTimerView *)aTimerView<br />
{
//do something<br />
}[/crayon]
	<li>将计时器加入您的viewController的view，并使用 -(void)start 开始计时<br />
[crayon]<br />
[self.view addSubview:btv];<br />
[btv start];<br />
[/crayon]</li>
	<li>如果您使用的是非ARC，请<strong>不要忘记</strong>在将计时器加入view结构后释放它。可能您需要保留一个指向该计时器的指针，以便在即使结束后将其移除</li>

在GitHub网站的<a href="https://github.com/onevcat/VVBorderTimer">这个页面</a>上有一个简单的demo供您参考，如果您感兴趣，可以关注或者分支该项目。祝您好运～
<h2>Lisence</h2>
VVBorderTimer is Copyright © 2011 Wei Wang(onevcat), All Rights Reserved, All Wrongs Revenged. Released under the <a href="http://www.opensource.org/licenses/bsd-license.php">New BSD Licence</a>.
<p style="text-align: justify;">* https://github.com/onevcat/VVBorderTimerView/</p>
<p style="text-align: justify;">BSD license follows (http://www.opensource.org/licenses/bsd-license.php)<br />
Copyright (c) 2011 Wei Wang(onevcat) All Rights Reserved.</p>
<p style="text-align: justify;">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p></p>

<p><ul>
	<li style="text-align: justify;">Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
	<li style="text-align: justify;">Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
</ul>
<p style="text-align: justify;">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBU -TORS &#8220;AS IS&#8221; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p><!--:--><!--:en-->

<h2 style="text-align: justify;">How to use</h2>
<ol style="text-align: justify;">
	<li>Import VVBorderTimerView.h and VVBorderTimerView.m to your project. Select either ARC version or non-ARC version for your situation.</li>
	<li>Alloc and init a VVBorderTimerView. Set its background color.<br />
[crayon]<br />
VVBorderTimerView *btv = [[VVBorderTimerView alloc] initWithFrame:CGRectMake(20, 20, 280, 280)];<br />
//Specify a background color for the timer<br />
btv.backgroundColor = [UIColor clearColor];<br />
[/crayon]</li>
	<li>Set the properties for the timer: colors(optional), totalTime and delegate.<br />
[crayon]<br />
//Top border will be green<br />
UIColor *color0 = [UIColor greenColor];<br />
//Right border yellow<br />
UIColor *color1 = [UIColor yellowColor];<br />
//Buttom border orange<br />
UIColor *color2 = [UIColor colorWithRed:1.0 green:140.0/255.0 blue:16.0/255.0 alpha:1.0];<br />
//Left border red<br />
UIColor *color3 = [UIColor redColor];</li></ol></p>

<p>//Set the colors for the timer. Color transition will be occured in the corner.<br />
//If your DID NOT specify the colors or specify it to nil(btv.colors = nil), default black color for all edge will be used.<br />
btv.colors = [NSArray arrayWithObjects:color0,color1,color2,color3,nil];</p>

<p>//Set the total time the timer should count in second<br />
btv.totalTime = 10;</p>

<p>//Set the delegate for the timer<br />
btv.delegate = self;<br />
[/crayon]
	<li>Implement the timer&#8217;s delegate<br />
[crayon]<br />
//Corner radius for a timer(0 means rectangle)<br />
-(float) cornerRadius:(VVBorderTimerView *)requestor<br />
{
    return 30;<br />
}</li></p>

<p>//Line width for a timer<br />
-(float) lineWidth:(VVBorderTimerView *)requestor<br />
{
    return 10;<br />
}</p>

<p>//When the timer stopped, this method will be called<br />
-(void) timerViewDidFinishedTiming:(VVBorderTimerView *)aTimerView<br />
{
    //do something<br />
}
[/crayon]
	<li>Add it to your viewController&#8217;s view and then start the timer using -(void)start<br />
[crayon]<br />
[self.view addSubview:btv];<br />
[btv start];<br />
[/crayon]</li>
	<li>DO NOT forget to release the timer after it is added to the view&#8217;s hierarchy if you use non-ARC. You may want to keey a pointer to the timer, so you can remove it from superview when it stops.</li>

You can also find a demo in the github page <a href="https://github.com/onevcat/VVBorderTimer">here</a>. You can watch and fork it if you are intrested in it. Enjoy!
<h2>Lisence</h2>
VVBorderTimer is Copyright © 2011 Wei Wang(onevcat), All Rights Reserved, All Wrongs Revenged. Released under the <a href="http://www.opensource.org/licenses/bsd-license.php">New BSD Licence</a>.
<p style="text-align: justify;">* https://github.com/onevcat/VVBorderTimerView/</p>
<p style="text-align: justify;">BSD license follows (http://www.opensource.org/licenses/bsd-license.php)<br />
Copyright (c) 2011 Wei Wang(onevcat) All Rights Reserved.</p>
<p style="text-align: justify;">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p></p>

<p><ul>
	<li style="text-align: justify;">Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
	<li style="text-align: justify;">Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
</ul>
<p style="text-align: justify;">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBU -TORS &#8220;AS IS&#8221; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p><!--:--></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">onevcat</span></span>

      








  


<time datetime="2011-12-24T00:00:00+09:00" pubdate data-updated="true">Dec 24<span>th</span>, 2011</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://blog.onevcat.com/blog/2011/12/24/vvbordertimer/" data-via="" data-counturl="http://blog.onevcat.com/blog/2011/12/24/vvbordertimer/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2011/12/22/password/" title="Previous Post: 凑热闹，谈密码，Challenge-Response密码验证">&laquo; 凑热闹，谈密码，Challenge-Response密码验证</a>
      
      
        <a class="basic-alignment right" href="/blog/2011/12/29/%E5%B2%81%E6%9C%AB/" title="Next Post: 岁末...">岁末... &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/03/30/zombie-ninjas-attack-a-survivors-retrospective/">Zombie Ninjas Attack: A survivor's retrospective</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/24/mgtwitterengine%E4%B8%ADtwitter-api-1-1%E7%9A%84%E4%BD%BF%E7%94%A8/">MGTwitterEngine中Twitter API 1.1的使用</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/02/xcode-plugin/">Xcode 4 插件制作入门</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/26/do_not_pause_me/">Unity3D中暂停时的动画及粒子效果实现</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/18/xuporter/">Unity编译至Xcode工程后自动添加文件和库的方法</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - onevcat -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
